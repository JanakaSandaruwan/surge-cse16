<div class="btn-group">
  <button type="button" class="btn btn-primary"  *ngFor= "let batch of batches" (click)="changebatch(batches.indexOf(batch),batch)">{{batch.name}}</button>
</div>
<div align="right" style="padding-bottom: 20px;" >
  <button class="btn btn-primary" data-toggle="modal" data-target="#myModal">+ Add student</button>
</div>
<button  class="positive" id="save" style="display:none;" data-toggle="modal" data-target="#myModal2">
    Save
</button>
<div id="myModal2" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Viewing Data of {{DCCRows.fname}}</h4>
      </div>
      <div class="modal-body">
        <div role="tabpanel">
                    <!-- Nav tabs -->
                    <ul class="nav nav-tabs" role="tablist">
                        <li role="presentation" class="active"><a href="#uploadTab" aria-controls="uploadTab" role="tab" data-toggle="tab">General</a>

                        </li>
                        <li role="presentation"><a href="#browseTab" aria-controls="browseTab" role="tab" data-toggle="tab">Academics</a>

                        </li>
                    </ul>
                    <!-- Tab panes -->
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane active" id="uploadTab">
                          <div class="form-group">

                          <div class="row">

                         <label class="control-label col-md-3" ><b>Full Name </b></label>
                         <div class="col-md-9">


                         <p> {{DCCRows.fname}}</p>
                        </div>
                        </div>
                        </div>

                        <div class="form-group">

                        <div class="row">

                       <label class="control-label col-md-3" ><b>Student ID </b></label>
                       <div class="col-md-9">


                       <p> {{DCCRows.ID}}</p>
                      </div>
                      </div>
                      </div>

                        <div class="form-group">
                          <div class="row">
                         <label class="control-label col-md-3"><b>Address </b></label>
                         <div class="col-md-9">

                        <p> {{DCCRows.Address}} </p>

                        </div>
                        </div>
                        </div>
                        <div class="form-group">

                        <div class="row">
                        <label class="control-label col-md-3" for="NIC"><b>NIC </b></label>
                        <div class="col-md-9">

                          <p> {{DCCRows.NIC}} </p>

                       </div>
                       </div>
                       </div>
                       <div class="form-group">
                         <div class="row">
                         <label class="control-label col-md-3" for="contact"><b>Phone </b></label>
                         <div class=col-md-9>
                            <p> {{DCCRows.contact}} </p>
                         </div>
                         </div>
                       </div>

                       <div class="form-group">
                         <div class="row">


                         <label class="control-label col-md-3" for="email"><b>Email </b></label>
                           <div class="col-md-9">
                              <p> {{DCCRows.email}} </p>

                           </div>
                           </div>
                       </div>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="browseTab">browseTab</div>
                    </div>
                </div>
            </div>
      <div class="modal-footer">
        <div class="form-group pull-right">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
</div>
<div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Create Student Form</h4>
      </div>
      <div class="modal-body">
        <div class="form-group">

        <div class="row">

       <label class="control-label col-md-3" for="name"><b>Full Name </b></label>
       <div class="col-md-9">


       <input id="name" name="name" class="form-control input-md" required minlength="4" (input)="setted()"  [(ngModel)]="cstudent.fname" #name="ngModel" >

      <div id="div1" *ngIf="name.invalid && (name.dirty || name.touched) && set" class="alert alert-danger">
      <div *ngIf="name.errors.required"> Name is required.</div>
      <div *ngIf="name.errors.minlength">Name must be at least 4 characters long.</div></div>
      </div>
      </div>
      </div>

      <div class="form-group">
        <div class="row">
       <label class="control-label col-md-3" for="Address"><b>Address </b></label>
       <div class="col-md-9">

       <textarea type="textarea" id="Address" name="Address" class="form-control" required minlength="30" (input)="setted()" [(ngModel)]="cstudent.Address" #Address="ngModel" ></textarea>

      <div id="div2" *ngIf="Address.invalid && (Address.touched && Address.dirty) && set" class="alert alert-danger">
      <div *ngIf="Address.errors.required"> Address is required.</div>
      <div *ngIf="Address.errors.minlength"> Address must be at least 30 characters long </div></div>
      </div>
      </div>
      </div>
      <div class="form-group">

      <div class="row">
      <label class="control-label col-md-3" for="NIC"><b>NIC </b></label>
      <div class="col-md-9">

      <input id="NIC" name="NIC" class="form-control input-md" required minlength="10" (input)="checkValidity()" [(ngModel)]="cstudent.NIC" #NIC="ngModel" pattern="^[0-9]{9}[vV]" >

     <div id="div3" *ngIf="NIC.invalid && (NIC.dirty || name.touched )" class="alert alert-danger">
     <div *ngIf="NIC.errors.required"> NIC is required.</div>
     <div *ngIf="NIC.errors.minlength"> NIC must be 10 characters long </div>
     <div *ngIf="NIC.errors.pattern"> NIC needs to be valid</div> </div>
     <div id="div13" *ngIf="(NICtaken | async)" class="alert alert-danger">
     <div *ngIf="(NICtaken | async)"> NIC already taken </div> </div>
     </div>
     </div>
     </div>
     <div class="form-group">
       <div class="row">
       <label class="control-label col-md-3" for="contact"><b>Phone </b></label>
       <div class=col-md-9>
         <input id="contact" name="contact" class="form-control input-md" required minlength="10" (input)="setted()" [(ngModel)]="cstudent.contact" #contact="ngModel"  pattern="^(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}$" >

         <div id="div4" *ngIf="contact.invalid && (contact.touched|| contact.dirty) && set" class="alert alert-danger">
         <div *ngIf="contact.errors.required"> Phone number is required.</div>
         <div *ngIf="contact.errors.minlength"> Phone number must be 10 characters long </div>
         <div *ngIf="contact.errors.pattern">Please enter a valid phone Number</div></div>
       </div>
       </div>
     </div>

     <div class="form-group">
       <div class="row">


       <label class="control-label col-md-3" for="email"><b>Email </b></label>
         <div class="col-md-9">
           <input id="email" name="email" (input)="setted()" class="form-control input-md" required  [(ngModel)]="cstudent.email" #email="ngModel" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$" >

          <div id="div5" *ngIf="email.invalid && (email.touched || email.dirty) && set" class="alert alert-danger">
          <div *ngIf="email.errors.required"> Email Address is required.</div>-->
          <div *ngIf="email.errors.pattern"> Please enter a valid Email Address </div></div>
         </div>
         </div>
     </div>
     <div class="form-group">
       <div class="row">


       <label class="control-label col-md-3"><b>Student Paid </b></label>
         <div class="col-md-9">
           <input type="checkbox" [checked]="cstudent.ps" (change)="cstudent.ps = !cstudent.ps" />
         </div>
         </div>
     </div>
      </div>
      <div class="modal-footer">
        <div class="form-group pull-right">
        <button id="button79" type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
        <div class="form-group pull-right">
        <button id="button7j" type="button" class="btn btn-default" (click)="checkValidity()">CheckNIC</button>
        </div>
        <div class="form-group pull-right">
        <button id="button77" type="button" class="btn btn-default" (click)="clear()">Reset</button>
        </div>
        <div *ngIf="!(NICtaken | async)">
          <div class="form-group pull-right" *ngIf="set && (!email.invalid || (!email.dirty && email.touched)) && (!Address.invalid || (!Address.dirty && !Address.touched)) && (!contact.invalid || (!contact.dirty && !contact.touched)) && (!NIC.invalid || (!NIC.dirty && !NIC.touched)) && (!name.invalid || (!name.dirty && !name.touched))">

            <button id="pro"  type="button" class="btn btn-default" data-dismiss="modal" (click)="AddStudent()">Proceed</button>
          </div>
        </div>

      </div>
    </div>
</div>
</div>
<div style="height:60px;">
  <button class="btn btn-primary" (click)="Deletebutton()">Delete</button>
  <button class="btn btn-primary" (click)="SendtoNextlevel()">Send to Next</button>
  <button class="btn btn-primary" (click)="fit()">fit</button>
  <button class="btn btn-primary" (click)="onBtnExport()">Download</button>
  <div class="dropdown-container"><!--Container wrapped around-->
  <button data-toggle="dropdown" class="btn btn-primary dropdown-toggle btn" type="button" aria-expanded="true">Filter Columns</button>
    <ul role="menu" class="dropdown-menu">
      <li>
        <input type="checkbox" [checked]="showid" (change)="toggleid()" >ID
      </li>
      <li>
        <input type="checkbox" [checked]="showname" (change)="togglename()" >Name
      </li>
      <li>
        <input type="checkbox" [checked]="shownic" (change)="togglenic()" >NIC
      </li>
      <li>
        <input type="checkbox" [checked]="showadd" (change)="toggleadd()" >Address
      </li>
      <li>
        <input type="checkbox" [checked]="showmail" (change)="togglemail()" >Email
      </li>
      <li>
        <input type="checkbox" [checked]="showcon" (change)="togglecon()" >Contact
      </li>
    </ul>
  </div><!--Container closed-->
  </div>
<div class="flexbox container" style="; padding-top: 20px; margin-bottom:10px;">


 </div>



  <div class="row">
    <ag-grid-angular style=" height: 131px;" class="ag-theme-bootstrap"
                     [rowData]="SStudents"
                     [columnDefs]="columnDefs"
                     enableSortings
                     enableFilter
                     enableColResize
                     enableQuickFilter
                     animateRows
                     defaultColDef="{
                      enableValue: true,
                      enableRowGroup: true,
                      enablePivot: true
                      }"
                     [rowSelection]="rowSelection"
                     (selectionChanged)="onSelectionChanged($event)"
                     (rowDoubleClicked)="onRDC($event)"
                     (gridReady)="onGridReady($event)"
                     rowTemplate= '<div ng-dblclick="getExternalScopes().onGridDoubleClick(row)" ng-repeat="col in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell" ui-grid-cell></div>'>
    </ag-grid-angular>
  </div>

<button style="display:none;" id="errorbutton" data-toggle="modal" data-target="#errormodal" class="btn btn-primary"></button>

<div id="errormodal" class="modal fade" >
  <div class="modal-dialog">
    <div class="alert alert-danger">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">{{Error}}</h4>
    </div>
  </div>
</div>
