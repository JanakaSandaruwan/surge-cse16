
<h2>Exam Results</h2>

<hr style="color: #E5E8E8;width: 1500px">
<div class="row">
  <img class="row" src="assets/exam.jpg" style="width: 1200px;height: 300px; padding-right: 10px;padding-left: 230px;"><br><br>
</div>



<div class="container-fluid">
  <div class="row">

    <form action="../submit" id="formentry" class="form-horizontal" role="form" method="post" #userForm="ngForm"  data-parsley-validate novalidate>
      <div class="container-fluid shadow">
        <div class="row">
          <div id="valErr" class="row viewerror clearfix hidden">
            <div class="alert alert-danger">Oops! Seems there are some errors..</div>
          </div>
          <div id="valOk" class="row viewerror clearfix hidden">
            <div class="alert alert-success">Yay! ..</div>
          </div>


          <div class="form-group brdbot" style="display: block;">
            <h1>Issue Exam Results</h1>
            <div class="controls col-sm-9">

              <p id="field5" data-default-label="Header" data-default-is-header="true" data-control-type="header"></p><span id="errId1" class="error"></span></div>

            </div><div class="row">
              <div class="col-md-12"><div class="row"><div class="col-md-12"><div class="row"><div class="col-md-12"><div class="row" style="display: block;"><div class="col-md-12"><div class="form-group" rel="popover" data-trigger="hover" data-content="Enter the required student's index number." data-original-title="" style="display: block;">
                <label class="control-label control-label-left col-sm-3" for="field1"><b>Student Index Number :</b><span class="req"> *</span></label>
                <div class="controls col-sm-9">

                <input id="index" type="text"  name="index" required minlength="10"  (input)="checkindex()" required maxlength="10" #indexx="ngModel" [(ngModel)]="index" class="form-control k-textbox" data-role="text">
                <div *ngIf="indexx.errors && (indexx.dirty || indexx.touched) "  class ="alert alert-danger">
                  <div *ngIf="indexx.errors.required" >Please enter Index Number
                  </div>

                    <div *ngIf="indexx.errors.minlength">Index Number must be 10 characters long.
                    </div>
                    <div *ngIf="indexx.errors.maxlength">Index Number must be 10f d characters long.
                    </div>



                </div>
                <div *ngIf="!(indexnoexists | async)" class ="alert alert-danger">Index Doesnt exist
                </div>



              </div><div class="form-group" style="display: block;">
                <label class="control-label control-label-left col-sm-3" for="field3"><b>Year :</b><span class="req"> *</span></label>
                <div class="controls col-sm-9">

                  <input id="year" (input)="validYear()" name="year" [(ngModel)]="year" #yearx="ngModel"  type="text" class="form-control k-textbox"  required >
                  <div *ngIf="yearx.errors && (yearx.dirty || yearx.touched) "  class ="alert alert-danger">
                    <div *ngIf="yearx.errors.required" >Please enter Year
                    </div>

                  </div>

                  <div *ngIf="validyear | async " class ="alert alert-danger">  Enter a valid year.</div>
                </div>

              </div><div class="form-group" style="display: block;">
                <label class="control-label control-label-left col-sm-3" for="field4"><b>Name of the person issuing :</b><span class="req"> *</span></label>
                <div class="controls col-sm-9">

                  <input id="field4" type="text" class="form-control k-textbox" data-role="text" required="required" data-parsley-errors-container="#errId5"><span id="errId5" class="error"></span></div>

                </div>
                <div class="form-group">
                  <label class="control-label control-label-left col-sm-3" for="field7"><b>Issuing Date :</b><span class="req"> *</span></label>
                  <div class="controls col-md-8">

                    <span class="k-widget k-datepicker k-header form-control" style=""><span class="k-picker-wrap k-state-default"><input name="name" (input)="changes()" [disabled]="caldis" [(ngModel)]="date" id="field3" type="date" class="form-control k-input" data-role="date" role="textbox" aria-haspopup="true" aria-expanded="false" aria-owns="field3_dateview" aria-disabled="false" aria-readonly="false" aria-label="Current focused date is null" data-error-container="#errfield3" style="width: 100%;" required="required" data-parsley-errors-container="#errId3"><span unselectable="on" class="k-select" role="button" aria-controls="field3_dateview" ><span unselectable="on" class="k-icon k-i-calendar">select</span></span></span></span><span id="errId3" class="error"></span>
                    <div id="div233" *ngIf="(calinvalid | async)" class="alert alert-danger">
                      <div *ngIf="(calinvalid | async)">Date invalid</div>
                    </div>
                  </div>


                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="div13s3" class="col-lg-10 col-md-10 col-sm-10 col-xs-12" *ngIf="(modelearly | async)" class="alert alert-danger">
      <div *ngIf="(modelearly | async)">Date given is not valid</div> </div>



        <div class="row" >
          <div class="form-group pull-right" >

              <button id="button33" type="button" class="btn btn-warning btn-lg" (click)="getresults()"> View Results </button>
              <button id="button32" type="button" (click)="cancel()" class="btn btn-danger btn-lg">Cancel</button>
                    </div>
        </div>


              </div>
            </div>



            </div>
          </div>
        </div>
        </form>


    </div>



</div>
<div id="myModal2" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Exam Results Viewer</h4>
      </div>
      <div class="modal-body">
        <div> Index Number : </div>
        <br>
        <div> Name : </div>
        <br>
        <div> Term : </div>
        <br>
        <div> Results :</div>
        <br>
        <div class="flexbox container" style="; padding-top: 20px; margin-bottom:10px;">


        </div>

        <div class="row">
          <ag-grid-angular style=" height: 131px;" class="ag-theme-fresh"
          [rowData]="results"
          [columnDefs]="columnDefs"
          enableColResize
          animateRows
          (gridReady)="onGridReady($event)"


          rowTemplate= '<div ng-dblclick="getExternalScopes().onGridDoubleClick(row)" ng-repeat="col in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell" ui-grid-cell></div>'>
        </ag-grid-angular>
      </div>

      <div class="modal-footer">
        <div class="form-group pull-right">
          <button type="button" class="btn btn-danger btn-lg"  data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-success btn-lg" (click)="onBtnExport()" data-dismiss="modal">Save</button>
        </div></div>
      </div>
    </div>
  </div>
</div>

<button style="display:none" id="openmodal" data-toggle="modal" data-target="#myModal2" >dsd</button>
